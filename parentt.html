<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>å®¶é•¿ä¿¡æ¯å¡«å†™</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="form-page">

<h1>ğŸ‘‹ æ¬¢è¿æ¥åˆ°å­¦ä¹ å†’é™©å²›</h1>
<p>è¯·å…ˆå¡«å†™å®¶é•¿ä¿¡æ¯ï¼Œç„¶åå¼€å§‹æµ‹è¯•</p>

<form id="parentForm">
  <label>
    å®¶é•¿å§“åï¼š
    <input type="text" id="parentName" required>
  </label><br><br>

  <label>
    ç”µè¯å·ç ï¼š
    <input type="tel" id="phoneNumber" required pattern="[0-9]{10,12}">
  </label><br><br>

  <label>
    å­©å­å¹´çº§ï¼š
    <select id="childGrade" required>
      <option value="">è¯·é€‰æ‹©å¹´çº§</option>
      <option value="1-3">1-3å¹´çº§</option>
      <option value="4-6">4-6å¹´çº§</option>
      <option value="junior1-3">åˆä¸€-åˆä¸‰</option>
      <option value="junior4-5">åˆå››-åˆäº”</option>
    </select>
  </label><br><br>

  <button type="submit">å¼€å§‹æµ‹è¯• ğŸ®</button>
</form>

<script>
const form = document.getElementById('parentForm');
form.addEventListener('submit', function(e){
  e.preventDefault();  // é˜»æ­¢åˆ·æ–°ï¼Œä½†ä¸å½±å“ä¸‹æ‹‰

  const name = document.getElementById('parentName').value;
  const phone = document.getElementById('phoneNumber').value;
  const grade = document.getElementById('childGrade').value;

  if(name && phone && grade){
    // æ›¿æ¢æˆä½ çš„ Google è¡¨å• ID å’Œ Entry IDs
    const formUrl = 'https://docs.google.com/forms/d/e/ä½ çš„è¡¨å•ID/formResponse?';
    const submitUrl = formUrl +
      'entry.1111111111=' + encodeURIComponent(name) +
      '&entry.2222222222=' + encodeURIComponent(phone) +
      '&entry.3333333333=' + encodeURIComponent(grade);

    // æäº¤åˆ° Google è¡¨å•åå°
    fetch(submitUrl, { method: 'POST', mode: 'no-cors' });

    // ä¿å­˜ä¿¡æ¯åˆ° localStorageï¼ˆå¯åœ¨åç»­é¡µé¢æ˜¾ç¤ºå®¶é•¿åï¼‰
    localStorage.setItem('parentName', name);
    localStorage.setItem('phoneNumber', phone);

    // è·³è½¬é¦–é¡µ
    window.location.href = 'index.html';
  }
});
</script>

</body>
</html>
